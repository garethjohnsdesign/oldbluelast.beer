{% extends "_layouts/site" %}

{% block main %}

{% if entry.eventFeatured %}

<div class="grid-container">

  <div class="grid-x grid-padding-y">
    <div class="small-12 cell">
      <h5>{{ entry.eventDate | date('D j M') }}</h5>
      <h4>{{entry.title}} @ {{entry.eventVenue}}, {{entry.eventLocation}}</h4>
    </div>
  </div>
  
  <div class="grid-x grid-padding-x grid-padding-y small-up-2 medium-up-3 large-up-4 margin-bottom-2" id="gallery">
    {% for image in entry.eventPhotos %}
      <div class="cell">
        <div class="image--square" data-interchange="{% include "_includes/images/interchange-img-small-12-medium-6-cell" %}">
          <div class="content"></div>
        </div>
      </div>
    {% endfor %}
  </div>

</div>

{% else %}

<div class="grid-container">

  <div class="grid-x grid-padding-y">
    <div class="small-12 cell">
      <h5>{{ entry.eventDate | date('D j M') }}</h5>
      <h4>{{entry.title}} @ {{entry.eventVenue}}, {{entry.eventLocation}}</h4>
    </div>
  </div>
  
  {% if entry.hasCopy %}
  <div class="grid-x grid-padding-y">
    <div class="small-12 cell">
      {{ entry.pageCopy }}
    </div>
  </div>
  {% endif %}

  <div class="grid-x grid-padding-y">
    <div class="small-12 cell">
    {% for asset in entry.eventFeatureImage %}
    <img src="{{ asset.getUrl('xxlarge') }}">
    {% endfor %}
    </div>
  </div>

  <div class="grid-x grid-padding-y">
    <div class="small-12 cell">
      <div id="eventbrite-widget-container-{{ entry.evenbriteId }}"></div>

      <script src="https://www.eventbrite.co.uk/static/widgets/eb_widgets.js"></script>
      <script type="text/javascript">
          var exampleCallback = function() {
              console.log('Order complete!');
          };
      
          window.EBWidgets.createWidget({
              // Required
              widgetType: 'checkout',
              eventId: '{{ entry.evenbriteId }}',
              iframeContainerId: 'eventbrite-widget-container-{{ entry.evenbriteId }}',
      
              // Optional
              iframeContainerHeight: 425,  // Widget height in pixels. Defaults to a minimum of 425px if not provided
              onOrderComplete: exampleCallback  // Method called when an order has successfully completed
          });
      </script>
    </div>
  </div>



</div>

{% endif %}

{% endblock %}





                